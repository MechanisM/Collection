/**
 * C
 * 
 * autor: kobezzza (kobezzza@gmail.com | http://kobezzza.com)
 * version: 3.5.5
 * date: 04.03.2012 11:34:56
 */
 var Collection=function(j){var h;h=function(a,b){a=a||null;b=b||"";if(!this||this.fn&&(!this.fn.name||this.fn.name!=="Collection"))return new h(a,b);h.extend(true,this,h.fields);var c=this.dObj.active;b&&h.extend(true,c,b);if(this._exprTest(c.filter))c.filter=this._compileFilter(c.filter);if(this._exprTest(c.parser))c.parser=this._compileParser(c.parser);c.collection=a};h.byLink=function(a,b,c,e){b=b.toString().replace(RegExp("\\s*"+h.CHILDREN+"\\s*","g"),h.CONTEXT_SEPARATOR+h.CHILDREN+h.CONTEXT_SEPARATOR).split(h.CONTEXT_SEPARATOR);
e=e||false;for(var d=h.CHILDREN,f=0,g=0,m,i=b.length,k,l;(i-=1)>-1;){b[i]=h.trim(b[i]);if(b[i]===""){b.splice(i,1);f-=1}else if(b[i]!==h.CHILDREN){if(i>f)f=i;g+=1}}l=b.length;if(a===false)return b.join("");else if(h.isNumber(a)){if((a=+a)<0)a+=g;if(typeof c==="undefined"){i=-1;for(k=0;(i+=1)<l;)if(b[i]!==h.CHILDREN)if((k+=1)===a){b.splice(i+1,l);return b.join("")}}else{i=l;for(k=0;(i-=1)>-1;)if(b[i]!==h.CHILDREN)if((k+=1)===a){b.splice(0,i);return b.join("")}}}for(i=-1;(i+=1)<l;)switch(b[i]){case h.CHILDREN:d=
b[i];break;default:if(d===h.CHILDREN&&b[i].substring(0,h.ORDER[0].length)!==h.ORDER[0])if(i===f&&c!==undefined)if(e===false)a[b[i]]=h.expr(c,a[b[i]]);else if(nimble.isArray(a))a.splice(b[i],1);else delete a[b[i]];else a=a[b[i]];else{g=b[i].substring(h.ORDER[0].length);g=g.substring(0,g.length-1);g=+g;if(h.isArray(a))if(i===f&&c!==undefined)if(g>=0)if(e===false)a[g]=h.expr(c,a[g]);else a.splice(g,1);else if(e===false)a[a.length+g]=h.expr(c,a[a.length+g]);else a.splice(a.length+g,1);else a=g>=0?a[g]:
a[a.length+g];else{if(g<0){k=0;for(m in a)if(a.hasOwnProperty(m))k+=1;g+=k}k=0;for(m in a)if(a.hasOwnProperty(m)){if(g===k){if(i===f&&c!==undefined)if(e===false)a[m]=h.expr(c,a[m]);else delete a[m];else a=a[m];break}k+=1}}}}if(c!==undefined)return h;return a};h.execEvent=function(a,b,c,e){a=a.split(h.QUERY_SEPARATOR);c=h.isExists(c)?c:[];c=h.isArray(c)?c:[c];for(var d=-1,f=a.length-1;(d+=1)<f;)b=b[a[d]];e=e||b;if(a[d].search(h.SUBQUERY_SEPARATOR)!==-1){a=a[d].split(h.SUBQUERY_SEPARATOR);b=b[a[0]];
a.splice(0,1);c=c.concat(a);return b.apply(e,c)}else return b[a[d]].apply(e,c)};h.CONTEXT_SEPARATOR="__context__";h.QUERY_SEPARATOR="/";h.SUBQUERY_SEPARATOR="{";h.METHOD_SEPARATOR="->";h.CHILDREN=">";h.ORDER=["eq(",")"];var t=function(a){return Object.prototype.toString.call(a)};h.isString=function(a){return t(a)==="[object String]"};h.isNumber=function(a){return t(a)==="[object Number]"};h.isBoolean=function(a){return t(a)==="[object Boolean]"};h.isFunction=function(a){return t(a)==="[object Function]"};
h.isArray=function(a){return t(a)==="[object Array]"};h.isPlainObject=function(a){return t(a)==="[object Object]"};h.isExists=function(a){return typeof a!=="undefined"&&a!==null&&a!==""};h.trim=function(a){a=a.replace(/^\s\s*/,"");for(var b=/\s/,c=a.length;b.test(a.charAt(c-=1)););return a.substring(0,c+1)};h.expr=function(a,b){b=h.isExists(b)?b:"";if(h.isString(a)&&a.search(/^[+-\\*\/]{1}=/)!==-1){a=a.split("=");isNaN(a[1])||(a[1]=+a[1]);switch(a[0]){case "+":a=b+a[1];break;case "-":a=b-a[1];break;
case "*":a=b*a[1];break;case "/":a=b/a[1]}}return a};h.find=function(a,b){var c,e;if(h.isArray(b)){b.some(function(d,f){if(a===f)return e=true});if(e)return e}else for(c in b)if(b.hasOwnProperty(c))if(a===b[c])return c;return false};h.extend=function(){var a,b,c,e,d,f=arguments[0]||{},g=0,m=false;if(h.isBoolean(f)){m=f;f=arguments[1]||{};g=1}if(typeof f!=="object"&&!h.isFunction(f))f={};if(length===g){f=h;g-=1}for(;(g+=1)<length;)if(h.isExists(a=arguments[g]))for(b in a){c=f[b];e=a[b];if(f!==e)if(m&&
e&&(h.isPlainObject(e)||(d=h.isArray(e)))){if(d){d=false;c=c&&h.isArray(c)?c:[]}else c=c&&h.isPlainObject(c)?c:{};f[b]=h.extend(m,c,e)}else if(typeof e!=="undefined")f[b]=e}return f};h.addElementToObject=function(a,b,c){b=b.split(h.METHOD_SEPARATOR);var e,d={};if(b[1]&&b[1]==="unshift"){d[!isNaN(Number(b[0]))?0:b[0]]=c;for(e in a)if(a.hasOwnProperty(e))d[!isNaN(Number(e))?+e+1:e]=a[e];return d}else if(!b[1]||b[1]==="push")a[b[0]]=c;return true};h.prototype={name:"Collection",version:"3.6",collection:function(){return this.name+
" "+this.version},ACTIVE:"active",SHUFFLE:"shuffle",NAMESPACE_SEPARATOR:".",stack:["namespace","collection","filter","context","cache","variable","defer","page","parser","appendType","target","calculator","pager","template","numberBreak","pageBreak","resultNull"]};j.fn=j.fn;j.fn.collection=function(a){var b=j.fn.collection.stat,c=function(f){f=f.childNodes;for(var g=f.length,m=-1,i="";(m+=1)<g;)if(f[m].nodeType===3&&j.trim(f[m].textContent))i+=f[m].textContent;if(i)return i;return false},e=function(f){var g=
[];f.each(function(m){var i=j(this),k=i.data(),l=i.attr("class")?i.attr("class").split(" "):"",o=c(this),n;g.push({});for(n in k)if(k.hasOwnProperty(n))g[m][n]=k[n];if(l){g[m][b.classes]={};l.forEach(function(p){g[m][b.classes][p]=p})}if(i.children().length!==0)g[m][b.childNodes]=e(i.children());if(o!==false)g[m][b.val]=o.replace(/[\r\t\n]/g," ")});return g},d=e(this);if(a)return new h(d,a);return new h(d)};if(!j.fn.collection.stat)j.fn.collection.stat={val:"val",childNodes:"childNodes",classes:"classes"};
j.fn.ctplCompile=function(){if(this.length===0)throw Error("DOM element does't exist!");var a="var key = i, result = ''; ";this.html().replace(/\/\*.*?\*\//g,"").split("?>").join("<?js").replace(/[\r\t\n]/g," ").split("<?js").forEach(function(b,c){a+=c===0||c%2===0?"result +='"+b+"';":b.split("echo").join("result +=")});return new Function("el","i","data","cOLength","cObj","id",a+" return result;")};j.fn.ctplMake=function(a){this.each(function(){var b=j(this),c=b.data("ctpl"),e,d=c.prefix?c.prefix+
"_":"";if(j.isString(c))c=j.parseJSON(c);a._push("template",d+c.name,b.ctplCompile());c.set&&c.set===true&&a._set("template",d+c.name);for(e in c)if(c.hasOwnProperty(e))if(!(e==="prefix"||e==="set"||e==="print"||e==="name"||e==="collection")){if(e==="target"||e==="pager")c[e]=j(c[e]);a._push(e,d+c.name,c[e]);c.set&&c.set===true&&a._set(e,d+c.name);if(e==="filter"||e==="parser")c[e]=d+c.name}if(c.print&&c.print===true){c.template=c.name;if(!c.target){a._push("target",d+c.name,b.parent());c.set&&c.set===
true&&a._set("target",d+c.name)}a.print(c)}});return this};j.isString=function(a){return nimble.isString(a)};j.isBoolean=function(a){return Object.prototype.toString.call(a)==="[object Boolean]"};j.isExists=function(a){return nimble.isExists(a)};j.unshiftArguments=function(a,b){for(var c=[b],e=-1,d=a.length;(e+=1)<d;)c.push(a[e]);return c};j.toUpperCase=function(a,b,c){c=c||0;b=j.isExists(b)?c+b:a.length;return a.substring(0,c)+a.substring(c,b).toUpperCase()+a.substring(b)};j.toLowerCase=function(a,
b,c){c=c||0;b=j.isExists(b)?c+b:a.length;return a.substring(0,c)+a.substring(c,b).toLowerCase()+a.substring(b)};j.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};h.fields={dObj:{active:{namespace:"nm",collection:null,filter:false,context:"",cache:{autoIteration:true,iteration:true,firstIteration:false,lastIteration:false},variable:null,defer:"",page:1,parser:false,appendType:"html",target:null,calculator:null,pager:null,template:null,numberBreak:null,pageBreak:5,resultNull:""}}};
h.fields.dObj.sys={flags:{use:{context:true,filter:true,parser:true,cache:false}}};(function(a){var b,c=h.fields.dObj.sys;a.forEach(function(e){b=j.toUpperCase(e,1);c["active"+b+"ID"]=null;c["tmp"+b]={};c[e+"ChangeControl"]=null;c[e+"Back"]=[]})})(h.prototype.stack);h.prototype._new=function(a,b){var c=this.dObj.active,e=j.toUpperCase(a,1);c[a]=(a==="filter"||a==="parser")&&this._exprTest(b)?this["_compile"+j.toUpperCase(a,1)](b):nimble.expr(b,c[a]||"");this.dObj.sys["active"+e+"ID"]=null;return this};
h.prototype._update=function(a,b){var c=this.dObj.active,e=this.dObj.sys,d=this._getActiveID(a);c[a]=(a==="filter"||a==="parser")&&this._exprTest(b)?this["_compile"+j.toUpperCase(a,1)](b):nimble.expr(b,c[a]||"");if(d)e["tmp"+j.toUpperCase(a,1)][d]=c[a];return this};h.prototype._get=function(a,b){if(b&&b!==this.ACTIVE){if(!this._exists(a,b))throw Error('the object "'+b+'" -> "'+a+"\" doesn't exist in the stack!");return this.dObj.sys["tmp"+j.toUpperCase(a,1)][b]}return this.dObj.active[a]};h.prototype._push=
function(a,b,c){var e=this.dObj.sys["tmp"+j.toUpperCase(a,1)],d=this._getActiveID(a),f;if(j.isPlainObject(b))for(f in b){if(b.hasOwnProperty(f))if(f===this.ACTIVE)this._update(a,b[f]);else if(e[f]&&d&&d===f)this._update(a,b[f]);else e[f]=(a==="filter"||a==="parser")&&this._exprTest(b[f])?this["_compile"+j.toUpperCase(a,1)](b[f]):b[f]}else if(b===this.ACTIVE)this._update(a,c);else if(e[b]&&d&&d===b)this._update(a,c);else e[b]=(a==="filter"||a==="parser")&&this._exprTest(c)?this["_compile"+j.toUpperCase(a,
1)](c):c;return this};h.prototype._set=function(a,b){var c=this.dObj.sys,e=j.toUpperCase(a,1),d=a+"ChangeControl",f="active"+e+"ID";if(!this._exists(a,b))throw Error('the object "'+b+'" -> "'+a+"\" doesn't exist in the stack!");if(c[f]!==b){c[d]=true;c[f]=b}else c[d]=false;c[a+"Back"].push(b);this.dObj.active[a]=c["tmp"+e][b];return this};h.prototype._back=function(a,b){var c=this.dObj.sys,e=j.toUpperCase(a,1),d=c[a+"Back"],f=d.length-(b||1)-1;if(f>=0&&d[f])if(c["tmp"+e][d[f]]){this._set(a,d[f]);
c[a+"ChangeControl"]=false;d.splice(f+1,d.length)}return this};h.prototype._backIf=function(a){if(this.dObj.sys[a+"ChangeControl"]===true)return this._back.apply(this,arguments);return this};h.prototype._drop=function(a,b,c,e){c=c===undefined?false:c;var d=this.dObj.active,f=this.dObj.sys,g=j.toUpperCase(a,1),m="active"+g+"ID";g="tmp"+g;var i=this._getActiveID(a);b=!b?i?[i]:[]:j.isArray(b)||j.isPlainObject(b)?b:[b];var k;if(b[0]&&b[0]!==this.ACTIVE)for(k in b){if(b.hasOwnProperty(k))if(!b[k]||b[k]===
this.ACTIVE)if(e===undefined){i&&delete f[g][i];f[m]=null;d[a]=c}else{if(i)f[g][i]=e;d[a]=e}else if(e===undefined){delete f[g][b[k]];if(i&&b[k]===i){f[m]=null;d[a]=c}}else{f[g][b[k]]=e;if(i&&b[k]===i)d[a]=e}}else if(e===undefined){i&&delete f[g][i];f[m]=null;d[a]=c}else{if(i)f[g][i]=e;d[a]=e}return this};h.prototype._reset=function(a,b,c){return this._drop(a,b||"","",c===undefined?false:c)};h.prototype._resetTo=function(a,b,c){c=!c||c===this.ACTIVE?this.dObj.active[a]:this.dObj.sys["tmp"+j.toUpperCase(a,
1)][c];return this._reset(a,b||"",c)};h.prototype._exists=function(a,b){var c=j.toUpperCase(a,1);if((!b||b===this.ACTIVE)&&this._getActiveID(a))return true;if(this.dObj.sys["tmp"+c][b]!==undefined)return true;return false};h.prototype._getActiveID=function(a){return this.dObj.sys["active"+j.toUpperCase(a,1)+"ID"]};h.prototype._active=function(a,b){if(!b)return this._getActiveID(a);if(b===this._getActiveID(a))return true;return false};h.prototype.use=function(a){this.stack.forEach(function(b){var c,
e,d;if(this._exists(b,a))this._set(b,a);else{c=a.split(this.NAMESPACE_SEPARATOR);for(d=c.length;(d-=1)>-1;){c.splice(d,1);e=c.join(this.NAMESPACE_SEPARATOR);if(this._exists(b,e)){this._set(b,e);break}}}},this);return this};(function(a){var b=h.prototype,c;a.forEach(function(e){c=j.toUpperCase(e,1);b["new"+c]=function(d){return function(f){return this._new(d,f)}}(e);b["update"+c]=function(d){return function(f){return this._update(d,f)}}(e);b["reset"+c+"To"]=function(d){return function(f,g){return this._resetTo(d,
f,g)}}(e);b["push"+c]=function(d){return function(){return this._push.apply(this,j.unshiftArguments(arguments,d))}}(e);b["set"+c]=function(d){return function(f){return this._set(d,f)}}(e);b["pushSet"+c]=function(d){return function(f,g){return this._push(d,f,g)._set(d,f)}}(e);b["back"+c]=function(d){return function(f){return this._back(d,f||"")}}(e);b["back"+c+"If"]=function(d){return function(f){return this._backIf(d,f||"")}}(e);b["drop"+c]=e==="filter"||e==="parser"?function(d){return function(){return this._drop(d,
arguments)}}(e):function(d){return function(){return this._drop(d,arguments,null)}}(e);if(e==="filter"||e==="parser")b["reset"+c]=function(d){return function(){return this._reset(d,arguments)}}(e);else if(e==="page")b["reset"+c]=function(d){return function(){return this._reset(d,arguments,1)}}(e);else if(e==="context")b["reset"+c]=function(d){return function(){return this._reset(d,arguments,"")}}(e);b["active"+c]=function(d){return function(f){return this._active(d,f)}}(e);b["exists"+c]=function(d){return function(f){return this._exists(d,
f||"")}}(e);b["get"+c+"ActiveID"]=function(d){return function(){return this._getActiveID(d)}}(e);b["get"+c]=function(d){return function(f){return this._get(d,f||"")}}(e)})})(h.prototype.stack);h.prototype._setOne=function(a,b,c){a=j.isExists(a)?a.toString():"";b=b===undefined?"":b;c=c||"";var e=this._getActiveParam("context");if(!a&&!e)return c&&c!==this.ACTIVE?this._push("collection",c,b):this._update("collection",b);nimble.byLink(this._get("collection",c),e+nimble.CHILDREN+a,b);return this};h.prototype._getOne=
function(a,b){a=j.isExists(a)?a.toString():"";return nimble.byLink(this._get("collection",b||""),this._getActiveParam("context")+nimble.CHILDREN+a)};h.prototype.add=function(a,b,c,e,d){a=a!==undefined?a:"";b=b||"push";c=c||"";d=d||false;var f,g,m;f=null;this.onAdd&&(f=this.onAdd.apply(this,arguments));if(f===false)return this;f=nimble.byLink(this._get("collection",c),this._getActiveParam("context"));if(typeof f!=="object")throw Error("unable to set property!");if(e){a=j.isExists(a)?a.toString():"";
g=nimble.byLink(this._get("collection",e||""),a);if(j.isPlainObject(f)){b=b==="push"?this.length(f):b==="unshift"?this.length(f)+nimble.METHOD_SEPARATOR+"unshift":b;m=nimble.addElementToObject(f,b.toString(),g)}else{m=true;f[b](g)}d===true&&this.disable("context")._removeOne(a,e).enable("context")}else if(j.isPlainObject(f)){b=b==="push"?this.length(f):b==="unshift"?this.length(f)+nimble.METHOD_SEPARATOR+"unshift":b;m=nimble.addElementToObject(f,b.toString(),a)}else{m=true;f[b](a)}m!==true&&this._setOne("",
m,c);return this};h.prototype.push=function(a,b){return this.add(a,"",b||"")};h.prototype.unshift=function(a,b){return this.add(a,"unshift",b||"")};h.prototype._removeOne=function(a,b){a=j.isExists(a)?a.toString():"";var c=this._getActiveParam("context"),e=null;this.onRemove&&(e=this.onRemove.apply(this,arguments));if(e===false)return this;!a&&!c?this._setOne("",null):nimble.byLink(this._get("collection",b||""),c+nimble.CHILDREN+a,"",true);return this};h.prototype._remove=function(a,b){b=b||"";var c,
e;if(j.isPlainObject(a))for(c in a){if(a.hasOwnProperty(c))if(j.isArray(a[c]))for(e=a[c].length;(e-=1)>-1;)this._removeOne(a[c][e],c);else this._removeOne(a[c],c)}else if(j.isArray(a))for(e=a.length;(e-=1)>-1;)this._removeOne(a[e],b);else this._removeOne(a,b);return this};h.prototype.pop=function(a){return this._removeOne("eq(-1)",a||"")};h.prototype.shift=function(a){return this._removeOne("eq(0)",a||"")};h.prototype.concat=function(a,b,c){b=j.isExists(b)?b.toString():"";c=c||"";var e;e=null;this.onConcat&&
(e=this.onConcat.apply(this,arguments));if(e===false)return this;e=nimble.byLink(this._get("collection",c),this._getActiveParam("context")+nimble.CHILDREN+b);if(typeof e!=="object")throw Error("incorrect data type!");if(j.isPlainObject(e))j.extend(true,e,a);else if(j.isArray(e))if(j.isArray(a)){e=Array.prototype.concat(e,a);this._setOne(b,e,c)}else this.add(a,"push",c);return this};h.prototype.length=function(a,b){a=a||"";var c={},e,d,f,g;if(!j.isFunction(a))if(j.isString(a)&&!this._filterTest(a)&&
!j.isExists(b)||j.isArray(a)||j.isPlainObject(a)){b=a;a=false}if(b)if(j.isString(b))e=this._get("collection",b);else{d=true;e=b}else e=this._get("collection");if(e===null)return 0;if(d!==true)e=nimble.byLink(e,this._getActiveParam("context"));if(j.isString(e))return e.length;if(typeof e!=="object")throw Error("incorrect data type!");if(a===false&&e.length!==undefined)g=e.length;else{g=0;if(e.length!==undefined)e.forEach(function(m,i){if(this._customFilter(a,m,i,e,g||null,this,b?b:this.ACTIVE,c)===
true)g+=1},this);else for(f in e)if(e.hasOwnProperty(f))if(this._customFilter(a,e[f],f,e,g||null,this,b?b:this.ACTIVE,c)===true)g+=1}c.name&&this._drop("filter","__tmp:"+c.name);return g};h.prototype.forEach=function(a,b,c,e,d,f,g){b=b||"";if(j.isBoolean(c)){g=f;f=d;d=e;e=c;c=this.ACTIVE}else c=c||"";e=e===false?false:true;d=parseInt(d)>=0?parseInt(d):false;f=parseInt(f)||false;g=parseInt(g)||false;var m=this,i={},k,l,o,n=0,p=false;k=nimble.byLink(this._get("collection",c),this._getActiveParam("context"));
if(typeof k!=="object")throw Error("incorrect data type!");l=function(){if(!l.val)l.val=m.length(b,c);return l.val};if(j.isArray(k)){o=g!==false?k.slice(g):k;o.some(function(q,r){r+=g;if(d!==false&&n===d)return true;if(this._customFilter(b,q,r,k,l,this,c,i)===true)if(f!==false&&f!==0)f-=1;else{p=a.call(a,q,r,k,l,this,c)===false;if(e===false)p=true;n+=1}if(p===true)return true},this)}else for(o in k)if(k.hasOwnProperty(o)){if(d!==false&&n===d)break;if(g!==false&&g!==0)g-=1;else{if(this._customFilter(b,
k[o],o,k,l,this,c,i)===true)if(f!==false&&f!==0)f-=1;else{p=a.call(a,k[o],o,k,l,this,c)===false;if(e===false)p=true;n+=1}if(p===true)break}}i.name&&this._drop("filter","__tmp:"+i.name);l=null;return this};h.prototype.some=function(a,b,c){return this.forEach(a,b||"",c||"",false)};h.prototype.search=function(a,b,c,e,d,f){if(j.isBoolean(b)){f=d;d=e;e=c;c=b;b=this.ACTIVE}else b=b||"";c=c===false?false:true;e=parseInt(e)>=0?parseInt(e):false;d=parseInt(d)||false;f=parseInt(f)||false;var g=c===true?[]:
-1;this.forEach(function(m,i){if(c===true)g.push(i);else g=i;return true},a||"",b,c,e,d,f);return g};h.prototype.searchOne=function(a,b){return this.search(a||"",b||"",false)};h.prototype.indexOf=function(a,b,c){c=c||"";b=b||"";var e=nimble.byLink(this._get("collection",c),this._getActiveParam("context"));if(j.isArray(e)&&e.indexOf){if(b)return e.indexOf(a,b);return e.indexOf(a)}else return this.search(function(d){return d===a},c,false,"","",b)};h.prototype.lastIndexOf=function(a,b,c){c=c||"";b=b||
"";var e=nimble.byLink(this._get("collection",c),this._getActiveParam("context"));if(j.isArray(e)&&e.lastIndexOf){if(b)return e.lastIndexOf(a,b);return e.lastIndexOf(a)}else{b=this.search(function(d){return d===a},c,"","","",b);return b[b.length-1]!==undefined?b[b.length-1]:-1}};h.prototype.get=function(a,b,c,e,d,f){if(j.isNumeric(a)||arguments.length<2&&j.isString(a)&&!this._filterTest(a)||arguments.length===0||arguments.length<2&&a===false)return this._getOne(a,b||"");if(j.isBoolean(b)){f=d;d=e;
e=c;c=b;b=this.ACTIVE}else b=b||"";c=c===false?false:true;e=parseInt(e)>=0?parseInt(e):false;d=parseInt(d)||false;f=parseInt(f)||false;var g=c===true?[]:-1;this.forEach(function(m,i,k){if(c===true)g.push(k[i]);else g=k[i];return true},a||"",b,c,e,d,f);return g};h.prototype.getOne=function(a,b){return this.get(a||"",b||"",false)};h.prototype.set=function(a,b,c){if(j.isNumeric(a)||arguments.length<3&&j.isString(a)&&!this._filterTest(a)||arguments.length===0||arguments.length<3&&a===null)return this._setOne(a,
b,c||"");var e=null,d,f=j.isFunction(b);d=j.unshiftArguments(arguments,function(g,m,i,k,l,o){i[m]=f?b.call(b,g,m,i,k,l,o):nimble.expr(b,i[m]);return true});d.splice(2,1);this.onSet&&(e=this.onSet.apply(this,arguments));if(e===false)return this;return this.forEach.apply(this,d)};h.prototype.setOne=function(a,b,c){return this.set(a||"",b,c||"",false)};h.prototype.map=function(a,b,c){return this.set(b||"",a,c||"")};h.prototype.move=function(a,b,c,e,d,f,g,m,i,k){a=a||"";k=k===false?false:true;b=j.isExists(b)?
b.toString():"";c=c||"";e=e||"";d=d||"push";f=f===false?false:true;g=parseInt(g)>=0?parseInt(g):false;m=parseInt(m)||false;i=parseInt(i)||false;var l=[],o=j.isArray(nimble.byLink(this._get("collection",e),this._getActiveParam("context"))),n;n=null;k&&this.onMove&&(n=this.onMove.apply(this,arguments));!k&&this.onCopy&&(n=this.onCopy.apply(this,arguments));if(n===false)return this;this.disable("context");n=j.isNumeric(a)||j.isString(a)&&!this._filterTest(a)?a:this.search(a,c,f,g,m,i);this.enable("context");
if(f===true&&j.isArray(n))n.forEach(function(p){this.add(b+nimble.CHILDREN+p,o===true?d:p+nimble.METHOD_SEPARATOR+d,e,c);k===true&&l.push(p)},this);else{this.add(b+nimble.CHILDREN+n,o===true?d:n+nimble.METHOD_SEPARATOR+d,e,c);k===true&&l.push(n)}k===true&&this.disable("context")._remove(l,c).enable("context");return this};h.prototype.moveOne=function(a,b,c,e,d){return this.move(a||"",j.isExists(b)?b.toString():"",c||"",e||"",d||"",false)};h.prototype.copy=function(a,b,c,e,d,f,g,m,i){f=f===false?false:
true;g=parseInt(g)>=0?parseInt(g):false;m=parseInt(m)||false;i=parseInt(i)||false;return this.move(a||"",j.isExists(b)?b.toString():"",c||"",e||"",d||"push",f,g,m,i,false)};h.prototype.copyOne=function(a,b,c,e,d){return this.move(a||"",j.isExists(b)?b.toString():"",c||"",e||"",d||"",false,"","","",false)};h.prototype.remove=function(a,b){var c,e;if(j.isNumeric(a)||arguments.length<2&&j.isString(a)&&!this._filterTest(a)||arguments.length===0||arguments.length<2&&a===null)return this._removeOne(a,b||
"");else if(j.isArray(a)||j.isPlainObject(a))return this._remove(a,b||"");c=this.search.apply(this,arguments);if(j.isArray(c))for(e=c.length;(e-=1)>-1;)this._removeOne(c[e],b);else this._removeOne(c,b);return this};h.prototype.removeOne=function(a,b){return this.remove(a||"",b||"",false)};h.prototype.group=function(a,b,c,e,d,f,g){a=this._exprTest(a=a||"")?this._compileFilter(a):a;c=c||"";g=g||false;e=parseInt(e)>=0?parseInt(e):false;d=parseInt(d)||false;f=parseInt(f)||false;var m=j.isString(a),i=
{};this.forEach(function(k,l){var o=m?nimble.byLink(k,a):a.apply(a,arguments);if(i[o])i[o].push(!g?k:l);else i[o]=[!g?k:l];return true},b,c,"",e,d,f);return i};h.prototype.groupLinks=function(a,b,c,e,d,f){return this.group(a||"",b||"",c||"",e||"",d||"",f||"",true)};h.prototype.stat=function(a,b,c,e,d,f,g){a=a||"count";e=e||"";d=parseInt(d)>=0?parseInt(d):false;f=parseInt(f)||false;g=parseInt(g)||false;var m=j.isString(a),i=0,k=0,l=function(o){o=nimble.byLink(o,b||"");switch(a){case "count":i+=1;break;
case "summ":i+=o;break;case "avg":k+=1;i+=o;break;case "max":if(o>i)i=o;break;case "min":if(k===0){i=o;k=1}else if(o<i)i=o;break;default:if(m)if(k===0){i=o;k=1}else i=nimble.expr(a+"="+o,i);else i=a(o,i)}return true};if(a!=="first"&&a!=="last"){this.forEach(l,c||"",e,"",d,f,g);if(a==="avg")i/=k}else i=a==="first"?this._getOne(nimble.ORDER[0]+"0"+nimble.ORDER[1]):this._getOne(nimble.ORDER[0]+"-1"+nimble.ORDER[1]);return i};h.prototype.groupStat=function(a,b,c,e,d,f,g){a=a||"count";e=e||"";d=parseInt(d)>=
0?parseInt(d):false;f=parseInt(f)||false;g=parseInt(g)||false;var m=j.isString(a),i={},k={},l,o=function(n){n=nimble.byLink(n,b||"");switch(a){case "count":i[this.i]+=1;break;case "summ":i[this.i]+=n;break;case "avg":k[this.i]+=1;i[this.i]+=n;break;case "max":if(n>i[this.i])i[this.i]=n;break;case "min":if(k[this.i]===0){i[this.i]=n;k[this.i]=1}else if(n<i[this.i])i[this.i]=n;break;default:if(m)if(k[this.i]===0){i[this.i]=n;k[this.i]=1}else i[this.i]=nimble.expr(a+"="+n,i[this.i]);else i[this.i]=a(n,
i[this.i])}return true};this.forEach(function(n,p,q,r,s,u){i[p]||(i[p]=k[p]=0);if(a!=="first"&&a!=="last")s._update("context","+="+nimble.CHILDREN+(o.i=p)).forEach(o,c||"",u,"",d,f,g).parent();else i[p]=a==="first"?nimble.byLink(n,nimble.ORDER[0]+"0"+nimble.ORDER[1]):nimble.byLink(n,nimble.ORDER[0]+"-1"+nimble.ORDER[1]);return true},"",e);if(a==="avg")for(l in i)if(i.hasOwnProperty(l))i[l]/=k[l];return i};h.prototype.sort=function(a,b,c,e){a=a||"";b=b||false;c=c&&c!==true?c===false?"":c:function(k){if(j.isString(k))return k.toUpperCase();
return k};e=e||"";var d=this,f,g=function(k,l){var o=b?-1:1;if(a){k=nimble.byLink(k,a);l=nimble.byLink(l,a)}if(c){k=c(k);l=c(l)}if(b!==d.SHUFFLE){if(k<l)return o*-1;if(k>l)return o;return 0}else return Math.round(Math.random()*2-1)},m=function(k){var l=[],o={},n;for(n in k)k.hasOwnProperty(n)&&l.push(n);l.sort(g);for(n in l)if(l.hasOwnProperty(n))o[l[n]]=k[l[n]];return o},i=function(k){var l=[],o={},n;for(n in k)k.hasOwnProperty(n)&&l.push({key:n,value:k[n]});a=a===true?"value":"value"+nimble.CHILDREN+
a;l.sort(g);for(n in l)if(l.hasOwnProperty(n))o[l[n].key]=l[n].value;return o};f=null;this.onSort&&(f=this.onSort.apply(this,arguments));if(f===false)return this;f=nimble.byLink(this._get("collection",e),this._getActiveParam("context"));if(typeof f==="object")if(j.isArray(f))f.sort(g);else{f=a?i(f):m(f);this._setOne("",f,e)}else throw Error("incorrect data type!");return this};h.prototype.reverse=function(a){a=a||"";var b,c=function(e){var d=[],f={},g;for(g in e)e.hasOwnProperty(g)&&d.push(g);d.reverse();
for(g in d)if(d.hasOwnProperty(g))f[d[g]]=e[d[g]];return f};b=null;this.onReverse&&(b=this.onReverse.apply(this,arguments));if(b===false)return this;b=nimble.byLink(this._get("collection",a),this._getActiveParam("context"));if(typeof b==="object")j.isArray(b)?b.reverse():this._setOne("",c(b),a);else throw Error("incorrect data type!");return this};h.prototype.save=function(a,b){if(!localStorage)throw Error("your browser doesn't support web storage!");a=a||this.ACTIVE;var c="__"+this.name+"__"+this._get("namespace"),
e=a===this.ACTIVE?this._exists("collection")?this._getActiveID("collection"):"":this._active("collection",a)?"active":"",d=b===false?sessionStorage:localStorage,f=null;this.onSave&&(f=this.onSave.apply(this,arguments));if(f===false)return this;d.setItem(c+":"+a,this.toString(a));d.setItem(c+"__date:"+a,(new Date).toString());d.setItem(c+"__active:"+a,e);d.setItem(c+"__date",(new Date).toString());return this};h.prototype.saveAll=function(a){if(!localStorage)throw Error("your browser doesn't support web storage!");
a=a===false?a:true;var b,c=this.dObj.sys.tmpCollection,e=false;this.dropAll(a);for(b in c){this._active("C",b)&&(e=true);c.hasOwnProperty(b)&&this.save(b,a)}e===false&&this.save("",a);return this};h.prototype.load=function(a,b){if(!localStorage)throw Error("your browser doesn't support web storage!");a=a||this.ACTIVE;var c="__"+this.name+"__"+this._get("namespace"),e=b===false?sessionStorage:localStorage,d=null;this.onLoad&&(d=this.onLoad.apply(this,arguments));if(d===false)return this;a===this.ACTIVE?
this._new("collection",j.parseJSON(e.getItem(c+":"+a))):this._push("collection",a,j.parseJSON(e.getItem(c+":"+a)));c=e.getItem(c+"__active:"+a);if(c===this.ACTIVE)this._set("collection",a);else c&&this._push("collection",c,this._get("collection"))._set("collection",c);return this};h.prototype.loadAll=function(a,b){b=b?"drop":"load";if(!localStorage)throw Error("your browser doesn't support web storage!");a=a===false?a:true;var c="__"+this.name+"__"+this._get("namespace"),e=a===false?sessionStorage:
localStorage,d=e.length,f,g;try{for(f in e)if(e.hasOwnProperty(f))if((g=f.split(":"))[0]===c)this[b](g[1],a)}catch(m){for(;(d-=1)>-1;)if((g=e[d].split(":"))[0]===c)this[b](g[1],a)}return this};h.prototype.loadDate=function(a,b){if(!localStorage)throw Error("your browser doesn't support web storage!");return new Date((b===false?sessionStorage:localStorage).getItem("__"+this.name+"__"+this._get("namespace")+"__date"+(a?":"+a:"")))};h.prototype.isExpired=function(a,b,c){if(!localStorage)throw Error("your browser doesn't support web storage!");
return new Date(new Date-new Date(this.loadDate(b||"",c||"")))>a};h.prototype.drop=function(a,b){if(!localStorage)throw Error("your browser doesn't support web storage!");a=a||this.ACTIVE;var c="__"+this.name+"__"+this._get("namespace"),e=b===false?sessionStorage:localStorage,d=null;this.onDrop&&(d=this.onDrop.apply(this,arguments));if(d===false)return this;e.removeItem(c+":"+a);e.removeItem(c+"__date:"+a);e.removeItem(c+"__active:"+a);return this};h.prototype.dropAll=function(a){(a===false?sessionStorage:
localStorage).removeItem("__"+this.name+"__"+this._get("namespace")+"__date");return this.loadAll(a||"",true)};h.prototype._customFilter=function(a,b,c,e,d,f,g,m){var i,k=true,l,o,n,p;if(!a||a===true){if(!this._getActiveParam("filter"))return true;if(this._get("filter"))return this._customFilter(this._get("filter"),b,c,e,d,f,g,m);return true}if(j.isFunction(a))if(!this._getActiveParam("filter")||!m)return a.call(a,b,c,e,d,f,g);else{if(!m.name){for(;this._exists("filter","__tmp:"+(m.name=j.getRandomInt(0,
1E4)));)m.name=j.getRandomInt(0,1E4);this._push("filter","__tmp:"+m.name,a)}return this._customFilter(this.ACTIVE+" && __tmp:"+m.name,b,c,e,d,f,g,m)}if(!j.isArray(a)){if(this._getActiveParam("filter")&&m)a=this.ACTIVE+" && ("+a+")";if(a.search(/\|\||&&|!/)===-1){if((a=j.trim(a)).search(/^(?:\(|)*:/)!==-1){this._exists("filter","__tmp:"+a)||this._push("filter","__tmp:"+a,this._compileFilter(a));return(a=this._get("filter","__tmp:"+a)).call(a,b,c,e,d,f,g)}return this._customFilter(this._get("filter",
a),b,c,e,d,f,g,m)}a=j.trim(a.toString().replace(/\s*(\(|\))\s*/g," $1 ").replace(/\s*(\|\||&&)\s*/g," $1 ").replace(/(!)\s*/g,"$1")).split(" ");for(c=a.length;(c-=1)>-1;)a[c]===""&&a.splice(c,1)}i=function(q,r){for(var s=-1,u=q.length,v=0,w=[];(s+=1)<u;){r+=1;if(q[s]==="("||q[s]==="!(")v+=1;if(q[s]===")")if(v===0)return{result:w,iter:r};else v-=1;w.push(q[s])}};m=a.length;for(c=-1;(c+=1)<m;)if(a[c]==="("||a[c]==="!("){if(a[c].substring(0,1)==="!"){p=true;a[c]=a[c].substring(1)}else p=false;c=(l=i(a.slice(c+
1),c)).iter;l=l.result.join(" ");l=this._customFilter(l,b,c,e,d,f,g);k=!o&&!n?p===true?!l:l:o?p===true?!l:l&&k:p===true?!l:l||k}else if(a[c]!==")"&&a[c]!=="||"&&a[c]!=="&&"){if(a[c].substring(0,1)==="!"){p=true;a[c]=a[c].substring(1)}else p=false;l=this._customFilter(this._get("filter",a[c]),b,c,e,d,f,g);k=!o&&!n?p===true?!l:l:o?p===true?!l:l&&k:p===true?!l:l||k}else if(a[c]==="||"){o=false;n=true}else if(a[c]==="&&"){n=false;o=true}return k};h.prototype._compileFilter=function(a){var b=/^\s*\(*\s*/.exec(a);
if(b.length!==0)a=a.substring(b[0].length+1,a.length-b[0].length);a=a.split("<:").join('self.getVariable("').split(":>").join('")');return new Function("el","i","data","cOLength","cObj","id","var key = i; return "+a.replace(/^\s*:/,"")+";")};h.prototype._customParser=function(a,b,c){if(!a||a===true){if(!this._getActiveParam("parser"))return b;if(this._get("parser"))return this._customParser(this._get("parser"),b,c);return b}if(j.isFunction(a))if(!this._getActiveParam("parser")||!c)return a.call(a,
b,this);else{if(!c.name){for(;this._exists("parser","__tmp:"+(c.name=j.getRandomInt(0,1E4)));)c.name=j.getRandomInt(0,1E4);this._push("parser","__tmp:"+c.name,a)}return this._customParser(this.ACTIVE+" && __tmp:"+c.name,b,c)}if(j.isString(a)){if(this._getActiveParam("parser")&&c)a=this.ACTIVE+" && "+a;if((a=j.trim(a)).search("&&")===-1){if(a.search(/^(?:\(|)*:/)!==-1){this._exists("parser","__tmp:"+a)||this._push("parser","__tmp:"+a,this._compileParser(a));return(a=this._get("parser","__tmp:"+a)).call(a,
b,this)}return this._customParser(this._get("parser",a),b)}a=a.split("&&")}a.forEach(function(e){b=this._customParser(j.trim(e),b)},this);return b};h.prototype._compileParser=function(a){var b=/^\s*\(*\s*/.exec(a);if(b.length!==0)a=a.substring(b[0].length+1,a.length-b[0].length);a=a.split("<:").join('self.getVariable("').split(":>").join('")');return new Function("str","cObj","return "+a.replace(/^\s*:/,"")+";")};h.prototype.parentContext=function(a,b){for(var c=this._get("context",b||"").split(nimble.CHILDREN),
e=a||1;(e-=1)>-1;)c.splice(-1,1);return c.join(nimble.CHILDREN)};h.prototype.parent=function(a,b){if(!b)return this._update("context",this.parentContext(a));return this._push("context",b,this.parentContext(a,b))};h.prototype._getActiveParam=function(a){var b=this.dObj.sys.flags.use[a]===undefined||this.dObj.sys.flags.use[a]===true?this.dObj.active[a]:false;if(a==="context")return b?b.toString():"";return b};h.prototype._filterTest=function(a){return a===this.ACTIVE||this._exists("filter",a)||a.search(/&&|\|\||:/)!==
-1};h.prototype._exprTest=function(a){return j.isString(a)&&a.search(/^:/)!==-1};h.prototype.enable=function(){for(var a in arguments)if(arguments.hasOwnProperty(a))this.dObj.sys.flags.use[arguments[a]]=true;return this};h.prototype.disable=function(){for(var a in arguments)if(arguments.hasOwnProperty(a))this.dObj.sys.flags.use[arguments[a]]=false;return this};h.prototype.toggle=function(){for(var a in arguments)if(arguments.hasOwnProperty(a)){if(this.dObj.sys.flags.use[arguments[a]]===true)return this.disable(arguments[a]);
return this.enable(arguments[a])}};h.prototype.toString=function(a,b,c){if(!JSON||!JSON.stringify)throw Error("object JSON is not defined!");b=b||"";c=c||"";if(a&&(j.isArray(a)||j.isPlainObject(a)))return JSON.stringify(a,b,c);return JSON.stringify(nimble.byLink(this._get("collection",a||""),this._getActiveParam("context")),b,c)};h.prototype.valueOf=function(){return this.length(this.ACTIVE)};h.prototype.then=function(a,b){var c=this;arguments.length===1?j.when(this.active("defer")).always(function(){a.apply(c,
arguments)}):j.when(this.active("defer")).then(function(){a().apply(c,arguments)},function(){b().apply(c,arguments)});return this};h.prototype.print=function(a,b){b=b||false;var c={},e={},d={},f,g,m,i=0,k,l=null,o=false,n,p="",q,r=null;if(j.isExists(a)&&(j.isString(a)||j.isNumeric(a)))a={page:a};else j.isExists(a)||(a={page:this._get("page")});j.extend(true,d,this.dObj.active,a);if(a)d.page=nimble.expr(d.page,this._get("page"));if(d.page<1)d.page=1;d.collection=j.isString(d.collection)?this._get("collection",
d.collection):d.collection;d.template=j.isString(d.template)?this._get("template",d.template):d.template;d.cache=j.isExists(a.cache)?a.cache:this._getActiveParam("cache");if(b===true)d.cache.iteration=false;k=this._get("page")-d.page;this._update("page",d.page);q=function(s,u){d.callback&&d.callback.apply(d.callback,arguments);p+=d.template.apply(d.template,arguments);i=u;if(o===false)o=u;return true};f=nimble.byLink(d.collection,this._getActiveParam("context")+nimble.CHILDREN+(a&&a.context||""));
g=this.length();n=Boolean(d.numberBreak&&(d.filter||this._getActiveParam("filter")));d.numberBreak=d.numberBreak||g;if(j.isPlainObject(f)||!d.cache||d.cache.iteration===false||d.cache.firstIteration===false||d.cache.lastIteration===false){m=!d.numberBreak||d.page===1?0:(d.page-1)*d.numberBreak;this.forEach(q,d.filter,this.ACTIVE,true,d.numberBreak,m);if(d.cache&&d.cache.iteration===false)d.cache.lastIteration=false}else if(j.isArray(f)&&d.cache.iteration===true){m=!n?d.page===1?0:(d.page-1)*d.numberBreak:
k>=0?d.cache.firstIteration:d.cache.lastIteration;if(n)if(k>0){for(k*=d.numberBreak;(m-=1)>-1;)if(this._customFilter(d.filter,f[m],f,m,g,this,this.ACTIVE,e)===true)if(i===k)break;else i+=1;d.cache.lastIteration=m+=1;l=null}else if(k<0)l=-k*d.numberBreak-d.numberBreak;e.name&&this._drop("filter","__tmp:"+e.name);this.forEach(q,d.filter,this.ACTIVE,true,d.numberBreak,l,m)}if(d.cache){if(k!==0&&d.cache.iteration!==false){this._get("cache").firstIteration=o;this._get("cache").lastIteration=i+1}if(d.cache.autoIteration===
true)this._get("cache").iteration=true}p=!p?d.resultNull:this._customParser(d.parser,p,c);c.name&&this._drop("parser","__tmp:"+c.name);if(d.target===false){d.variable?this._push("variable",d.variable,p):this._new("variable",p);return this}else d.target[d.appendType](p);if(!d.pager)return this;d.nmbOfEntries=d.filter!==false?this.length(d.filter):g;d.nmbOfEntriesInPage=d.calculator?d.target.find(d.calculator).length:d.target.children().length;d.finNumber=d.numberBreak*d.page-(d.numberBreak-d.nmbOfEntriesInPage);
if(d.page!==1&&d.nmbOfEntriesInPage===0){this.onIPage&&(r=this.onIPage.apply(this,arguments));if(r===false)return this;this._update("page",d.page-=1).print(d,true,true)}else this.easyPage(d);return this};h.prototype.easyPage=function(a){var b=this,c="",e=a.nmbOfPages||(a.nmbOfEntries%a.numberBreak!==0?~~(a.nmbOfEntries/a.numberBreak)+1:a.nmbOfEntries/a.numberBreak),d=function(l,o,n,p){p=p||false;var q,r="<"+(l.tag||"span")+" "+(!p?'data-page="':'data-number-break="')+n+'"';if(l.attr)for(q in l.attr)if(l.attr.hasOwnProperty(q))r+=
" "+q+'="'+l.attr[q]+'"';if(!p&&n===a.page||p&&n===a.numberBreak)r+=' class="'+(o&&o.active||"active")+'"';return r+(">"+n+"</"+(l.tag||"span")+">")},f=function(l,o){if(o==="select")return'<option value="'+l+'">'+l+"</option>";return l},g,m=0,i,k;a.pager.find(".ctm").each(function(){if(a.pageBreak<=2)throw Error('parameter "pageBreak" must be more than 2');c="";var l=j(this),o=this.tagName.toLowerCase(),n=o==="input"?"val":"html",p=l.data("ctm"),q=p.classes;if(p.nav){nimble.find(p.nav,["first","prev",
"next","last"])&&!l.data("ctm-delegated")&&l.click(function(){if(!j(this).hasClass(p.classes&&p.classes.disabled||"disabled")){p.nav==="first"&&(a.page=1);p.nav==="prev"&&(a.page="-=1");p.nav==="next"&&(a.page="+=1");p.nav==="last"&&(a.page=e);b.print(a)}}).data("ctm-delegated",true);if(nimble.find(p.nav,["first","prev"])&&a.page===1||nimble.find(p.nav,["next","last"])&&a.finNumber===a.nmbOfEntries)l.addClass(q&&q.disabled||"disabled");else if(nimble.find(p.nav,["first","prev","next","last"]))l.removeClass(q&&
q.disabled||"disabled");p.nav==="numberSwitch"&&p.val.forEach(function(r){c+=o==="select"?'<option vale="'+r+'" '+(r===a.numberBreak?'selected="selected"':"")+">"+r+"</option>":d(p,q||"",r,true)});if(p.nav==="pageList")if(o==="select")for(g=0;(g+=1)<=e;)c+='<option vale="'+g+'" '+(g===a.page?'selected="selected"':"")+">"+g+"</option>";else if(e>a.pageBreak){m=a.pageBreak%2!==0?1:0;k=i=(a.pageBreak-m)/2;if(a.page-m<i)i=0;else{i=a.page-i-m;if(a.page+k>e)i-=a.page+k-e}g=i;for(m=-1;(g+=1)<=e&&(m+=1)!==
null;){if(m===a.pageBreak&&g!==a.page)break;c+=d(p,q||"",g)}}else for(g=0;(g+=1)<=e;)c+=d(p,q||"",g);if(p.nav==="numberSwitch"||p.nav==="pageList"){l.html(c);if(!l.data("ctm-delegated")){if(o!=="select")l.on("click",p.tag||"span",function(){var r=j(this);if(a.page!==r.data("page")){if(p.nav==="pageList")a.page=+r.data("page");else{b._push("numberBreak",a.name||"",+r.data("number-break"));delete a.numberBreak}b.print(a)}});else l.on("change",function(){var r=j(this).children(":selected");if(a.page!==
r.val()){if(p.nav==="pageList")a.page=+r.val();else{b._push("numberBreak",a.name||"",+r.val());delete a.numberBreak}b.print(a)}});l.data("ctm-delegated",true)}}}else if(p.info){a.nmbOfEntriesInPage===0?l.addClass(q&&q.noData||"no-data"):l.removeClass(q&&q.noData||"no-data");switch(p.info){case "page":l[n](f(a.page,o));break;case "total":l[n](f(a.nmbOfEntries,o));break;case "from":l[n](f((a.page-1)*a.numberBreak+1,o));break;case "to":l[n](f(a.finNumber,o));break;case "inPage":l[n](f(a.nmbOfEntriesInPage,
o));break;case "nmbOfPages":l[n](f(e,o))}}});return this};h.prototype.genTable=function(a,b,c){a=a||4;b=b||"div";c=c===false?false:true;var e=1,d,f=this._get("target"),g=f.find(b).length,m="";f.find(b).each(function(i){this.tagName!=="td"&&j(this).wrap("<td></td>");if(e===a){m="";for(d=-1;(d+=1)<a;){m+="td:eq("+(i-d)+")";if(d!==a-1)m+=","}f.find(m).wrapAll("<tr></tr>");e=0}else if(i===g-1&&e!==a){m="";for(d=-1;(d+=1)<e;){m+="td:eq("+(i-d)+")";if(d!==e-1)m+=","}e-=1;f.find(m).wrapAll("<tr></tr>");
if(c===true){for(m="";(e+=1)<a;)m+="<td></td>";f.find("tr:last").append(m)}}e+=1});f[0].tagName!=="table"&&f.children("tr").wrapAll("<table></table>");return this};return h}(jQuery);if(typeof $C==="undefined")var $C=Collection;
//